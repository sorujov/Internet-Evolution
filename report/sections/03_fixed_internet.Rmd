# Sabit İnternet: Təkamül Dinamikası

Bu bölmə, əhəmiyyətli transformasiya ilə səciyyələnən 2019–2025-ci illər dövrü 
üzrə Azərbaycanın sabit internet infrastrukturunun təkamül dinamikasının ətraflı 
kəmiyyət təhlilini təqdim edir. 
Bu inkişaf, artımın miqyasını və trayektoriyasını səciyyələndirmək məqsədilə təsviri statistika, 
trend təhlili və reqressiya modelləri vasitəsilə empirik olaraq qiymətləndirilir.

## Ümumi Xarakteristika

Cədvəl \@ref(tab:fixed-summary-stats) Azərbaycanın sabit internet göstəricilərinin
78 aylıq müşahidə dövrü (2019.04-2025.09) üzrə ümumi statistikasını təqdim edir.

Bu göstəricilər, zaman sırasının mərkəzi tendensiya, 
dəyişkənlik və paylanma xüsusiyyətləri haqqında ilkin məlumat təqdim edir.


```{r fixed-summary-stats, echo=FALSE, tab.cap="Sabit internet - ümumi statistika (2019-2025)"}
az_detailed <- read_csv("../../data/processed/azerbaijan_detailed_stats.csv", show_col_types = FALSE)

fixed_stats <- az_detailed %>% 
  filter(str_detect(Type, "Fixed")) %>%
  select(Type, Observations, Mean_Download, Median_Download, SD_Download, 
         IQR_Download, Min_Download, Max_Download, CV_Download)

# Store values for inline text
fixed_median_dl <- fixed_stats %>% filter(Type == "Fixed_Median") %>% pull(Median_Download)
fixed_mean_dl <- fixed_stats %>% filter(Type == "Fixed_Median") %>% pull(Mean_Download)
fixed_cv <- fixed_stats %>% filter(Type == "Fixed_Median") %>% pull(CV_Download)

if (is_word) {
  ft <- flextable(fixed_stats)
  ft <- set_header_labels(ft, 
    Type = "Metrik Növü",
    Observations = "N",
    Mean_Download = "Orta (Mbps)",
    Median_Download = "Median (Mbps)", 
    SD_Download = "SD",
    IQR_Download = "IQR",
    Min_Download = "Min",
    Max_Download = "Max",
    CV_Download = "CV"
  )
  ft <- theme_vanilla(ft)
  ft <- bg(ft, bg = "#e3f2fd", part = "header")
  ft <- colformat_double(ft, j = c("Mean_Download", "Median_Download", "SD_Download", 
                                    "IQR_Download", "Min_Download", "Max_Download", "CV_Download"), 
                         digits = 2)
  ft <- fit_to_width(ft, max_width = 7)
  ft
} else {
  knitr::kable(fixed_stats,
        col.names = c("Metrik", "N", "Orta", "Median", "SD", "IQR", "Min", "Max", "CV"),
        digits = 2,
        booktabs = TRUE) %>%
    kable_styling(latex_options = c("striped", "hold_position"))
}
```

Cədvəl \@ref(tab:fixed-summary-stats)-dəki göstəricilər, 
sabit internet sürəti paylanmasının xarakteristikasını anlamaq üçün vacibdir. 
Bütün dövr üzrə median endirmə sürətinin (`r round(fixed_median_dl, 1)` Mbps) 
orta dəyərdən (`r round(fixed_mean_dl, 1)` Mbps) əhəmiyyətli dərəcədə aşağı olması, 
zaman sırasında sağa əyilmiş paylanmanın (right-skewed distribution) mövcudluğuna işarə edir. 
Bu fərq, son illərdəki infrastruktur təkmilləşdirmələri nəticəsində əldə edilən yüksək sürət 
göstəricilərinin orta dəyəri yuxarıya doğru təhrif etməsindən irəli gəlir. 
Belə hallarda, kənar qiymətlərə qarşı daha dayanıqlı olan median, 
mərkəzi tendensiyanın daha etibarlı (robast) ölçüsü hesab olunur [@hampel1986]. 
Dəyişmə əmsalının (CV) `r round(fixed_cv, 2)` olması isə, 
tədqiqat dövrü ərzində sürət göstəricilərində orta dərəcəli nisbi dəyişkənliyi təsdiq edir.


## Zaman Dinamikası

Şəkil \@ref(fig:fixed-trend-plot) sabit internet endirmə (download) və yükləmə (upload) sürətlərinin aylıq dinamikasını təsvir edir.

```{r fixed-trend-plot, fig.cap="Sabit internet sürətinin dinamikası (median, 2019-2025)", fig.width=10, fig.height=6}
az_fixed_median <- az_fixed %>% filter(MetricType == "median")

az_fixed_long <- az_fixed_median %>%
  select(Date, DownloadSpeed, UploadSpeed) %>%
  pivot_longer(cols = c(DownloadSpeed, UploadSpeed),
               names_to = "Metric", values_to = "Speed")

ggplot(az_fixed_long, aes(x = Date, y = Speed, color = Metric)) +
  geom_line(size = 1.2) +
  geom_point(size = 2, alpha = 0.6) +
  geom_smooth(method = "lm", se = TRUE, alpha = 0.2, linetype = "dashed") +
  scale_color_manual(values = c("DownloadSpeed" = "#0066cc", "UploadSpeed" = "#ff6600"),
                     labels = c("Download", "Upload")) +
  scale_y_continuous(labels = comma) +
  labs(x = "Tarix", y = "Sürət (Mbps)", color = "Göstərici") +
  theme_minimal(base_size = 11) +
  theme(legend.position = "bottom")

# Calculate trend statistics for inline text
fixed_start <- az_fixed_median %>% filter(Date == min(Date))
fixed_end <- az_fixed_median %>% filter(Date == max(Date))
fixed_dl_growth <- ((fixed_end$DownloadSpeed / fixed_start$DownloadSpeed - 1) * 100)
fixed_ul_growth <- ((fixed_end$UploadSpeed / fixed_start$UploadSpeed - 1) * 100)
```

Şəkil \@ref(fig:fixed-trend-plot)-də təsvir edilən zaman sırası qrafiki, 
həm endirmə, həm də yükləmə sürətləri üçün aydın və güclü artan trendin 
mövcudluğunu vizual olaraq təsdiq edir. 
Tədqiqat dövrünün əvvəlində, 2019-cu ilin aprelində, median endirmə 
sürəti cəmi `r round(fixed_start$DownloadSpeed, 1)` Mbps təşkil edirdisə, 2025-ci ilin 
sentyabrına qədər bu göstərici `r round(fixed_end$DownloadSpeed, 1)` Mbps-ə çatmışdır ki, 
bu da `r format(round(fixed_dl_growth, 0), big.mark=",")`%-lik artım deməkdir. 
Yükləmə sürəti də demək olar ki, sinxron bir dinamika nümayiş etdirərək, 
müvafiq dövr ərzində `r round(fixed_start$UploadSpeed, 1)` Mbps-dən
 `r round(fixed_end$UploadSpeed, 1)` Mbps-ə 
 yüksəlmişdir (`r format(round(fixed_ul_growth, 0), big.mark=",")`% artım).

## Reqressiya Təhlili

Xətti reqressiya modelinin nəticələri, sabit internet sürətinin zamanla dəyişməsinin kəmiyyət 
təhlili üçün Cədvəl \@ref(tab:fixed-regression-table)-də təqdim olunur. 

```{r fixed-regression-table, echo=FALSE, tab.cap="Sabit internet - xətti reqressiya nəticələri"}
reg_results <- read_csv("../../data/processed/regression_diagnostics.csv", show_col_types = FALSE)

fixed_reg <- reg_results %>% 
  filter(Type == "Fixed", MetricType == "median") %>%
  select(Variable, Slope, SE_Slope_Robust, CI_Lower, CI_Upper, P_Value, R_Squared, DW_Statistic)

# Store regression values for inline text
fixed_dl_reg <- fixed_reg %>% filter(Variable == "DownloadSpeed")
fixed_ul_reg <- fixed_reg %>% filter(Variable == "UploadSpeed")

if (is_word) {
  ft <- flextable(fixed_reg)
  ft <- set_header_labels(ft,
    Variable = "Dəyişən",
    Slope = "β₁ (Mbps/ay)",
    SE_Slope_Robust = "SE (robust)",
    CI_Lower = "95% CI aşağı",
    CI_Upper = "95% CI yuxarı",
    P_Value = "p-dəyəri",
    R_Squared = "R²",
    DW_Statistic = "DW stat"
  )
  ft <- theme_vanilla(ft)
  ft <- bg(ft, bg = "#e3f2fd", part = "header")
  ft <- colformat_double(ft, j = c("Slope", "SE_Slope_Robust", "CI_Lower", "CI_Upper"), digits = 2)
  ft <- colformat_double(ft, j = "P_Value", digits = 4)
  ft <- colformat_double(ft, j = c("R_Squared", "DW_Statistic"), digits = 2)
  ft <- fit_to_width(ft, max_width = 7)
  ft
} else {
  knitr::kable(fixed_reg,
        col.names = c("Dəyişən", "β₁", "SE", "CI₉₅ aşağı", "CI₉₅ yuxarı", "p", "R²", "DW"),
        digits = c(0, 2, 2, 2, 2, 4, 2, 2),
        booktabs = TRUE) %>%
    kable_styling(latex_options = c("striped", "hold_position"))
}
```

Endirmə sürəti üçün aparılan təhlil, statistik baxımdan yüksək əhəmiyyətli
 müsbət trendi təsdiqləyir; qiymətləndirilmiş modelə əsasən, orta aylıq artım 
 tempi `r round(fixed_dl_reg$Slope, 2)` Mbps təşkil 
 edir (robast SE = `r round(fixed_dl_reg$SE_Slope_Robust, 3)`, 95% CI: [`r round(fixed_dl_reg$CI_Lower, 3)`, 
 `r round(fixed_dl_reg$CI_Upper, 3)`], p < 0.001). 
 Modelin yüksək determinasiya əmsalı (R² = `r round(fixed_dl_reg$R_Squared, 3)`) göstərir ki, 
 sürətdəki ümumi variasiyanın təxminən `r round(fixed_dl_reg$R_Squared * 100, 1)`%-i yalnız 
 zaman faktoru ilə izah oluna bilir, bu da trendin güclü və davamlı 
 xarakter daşıdığını göstərir [@montgomery2021]. 
 Yükləmə sürəti üçün də oxşar nəticələr əldə olunmuşdur: 
 orta aylıq artım `r round(fixed_ul_reg$Slope, 3)` Mbps-dir (R² = `r round(fixed_ul_reg$R_Squared, 3)`).

Modelin diaqnostikası çərçivəsində hesablanmış 
Durbin-Watson statistikası (DW ≈ `r round(fixed_dl_reg$DW_Statistic, 2)`) qalıqlarda 
birinci tərtib müsbət avtokorrelyasiyanın mövcudluğuna işarə edir [@durbin1950]. 
Bu problemin standart xətaların qiymətləndirilməsinə potensial təhrifedici təsirini 
aradan qaldırmaq məqsədilə, təhlildə heteroskedastikliyə və avtokorrelyasiyaya qarşı 
dayanıqlı (robast) Newey-West standart xətalarından istifadə edilmişdir. 
Robast standart xətaların klassik OLS xətalarından təxminən 2.4 dəfə böyük 
olmasına baxmayaraq, trend əmsalının statistik əhəmiyyətliliyi dəyişməz qalır.


## Parametrik Olmayan Trend Təsti

Xətti reqressiya modelinin nəticələrini təsdiqləmək və paylanma fərziyyələrindən 
asılı olmayan bir qiymətləndirmə təqdim etmək üçün Mann-Kendall trend testi tətbiq edilmişdir. 
Cédvəl \@ref(tab:fixed-mannkendall)-də təqdim olunan nəticələr, 
OLS reqressiyasının tapıntıları ilə tamamilə üst-üstə düşür.

```{r fixed-mannkendall, echo=FALSE, tab.cap="Mann-Kendall trend testi nəticələri"}
mk_results <- read_csv("../../data/processed/mann_kendall_results.csv", show_col_types = FALSE)

fixed_mk <- mk_results %>%
  filter(Type == "Fixed", MetricType == "median") %>%
  select(Variable, Tau, P_Value, Trend)

# Store Mann-Kendall values for inline text
fixed_dl_mk <- fixed_mk %>% filter(Variable == "DownloadSpeed")

if (is_word) {
  ft <- flextable(fixed_mk)
  ft <- set_header_labels(ft, Variable = "Dəyişən", Tau = "τ", P_Value = "p-dəyəri", 
  Trend = "Trend interpretasiyası")
  ft <- theme_vanilla(ft)
  ft <- bg(ft, bg = "#e3f2fd", part = "header")
  ft <- colformat_double(ft, j = "Tau", digits = 2)
  ft <- colformat_double(ft, j = "P_Value", digits = 4)
  ft <- autofit(ft)
  ft
} else {
  knitr::kable(fixed_mk,
        col.names = c("Dəyişən", "τ", "p", "İnterpretasiya"),
        digits = c(0, 2, 4, 0),
        booktabs = TRUE) %>%
    kable_styling(latex_options = c("striped", "hold_position"))
}
```

Hər iki sürət göstəricisi üçün hesablanmış 
Kendall-ın tau (\(\tau\)) statistikası (`r round(fixed_dl_mk$Tau, 2)`) birdən çox az fərqlənir və 
p-dəyəri statistik əhəmiyyətlilik həddindən (p < 0.0001) çox aşağıdır. 
Bu, həm endirmə, həm də yükləmə sürətində güclü, 
monoton artan trendin mövcudluğunu qeyri-parametrik olaraq təsdiqləyir [@kendall1975]. 
Testin nəticələrinin kənar qiymətlərə (*outliers*) və 
normal paylanma fərziyyəsinə qarşı dayanıqlı olması, 
zamanla müşahidə olunan artım trendinin etibarlılığına dair əlavə sübut təmin edir.

## İllik Dinamika

Ümumi trendin təhlili ilə yanaşı, artım templərinin illər üzrə dəyişmə dinamikası 
da mühüm məlumatlar təqdim edir. Şəkil \@ref(fig:fixed-yoy-plot) sabit internet 
sürətinin illik artım templərini təsvir edir. Qrafikdən göründüyü kimi, 
artım templəri qeyri-bərabər paylanmışdır və bəzi illərdə kəskin sıçrayışlar müşahidə olunur.

```{r fixed-yoy-plot, fig.cap="Sabit internet - illik artım templəri", fig.width=8, fig.height=5}
yearly_data <- read_csv("../../data/processed/azerbaijan_yearly_detailed.csv", show_col_types = FALSE)

fixed_yearly <- yearly_data %>%
  filter(Type == "Fixed", MetricType == "median", Year >= 2020) %>%
  arrange(Year) %>%
  mutate(YoY_Download = (Median_Download / lag(Median_Download) - 1) * 100) %>%
  filter(!is.na(YoY_Download))

ggplot(fixed_yearly, aes(x = factor(Year), y = YoY_Download)) +
  geom_col(fill = "#0066cc", alpha = 0.8, width = 0.6) +
  geom_text(aes(label = sprintf("%.1f%%", YoY_Download)), vjust = -0.5, size = 4) +
  labs(x = "İl", y = "İllik artım (%)") +
  theme_minimal(base_size = 11)
```

Xüsusilə, 2022 və 2024-cü illər ən yüksək artım templəri ilə seçilir. 
2022-ci ildəki sıçrayış, GPON texnologiyasının genişmiqyaslı tətbiqini hədəfləyən 
"Onlayn Azərbaycan" layihəsinin ən aktiv fazası ilə eyni vaxta təsadüf edir. 
2024-cü ildəki artım isə, həyata keçirilən tarif siyasəti dəyişikliyi ilə əlaqələndirilə bilər. 
Bu qrafik, siyasət müdaxilələrinin və infrastruktur layihələrinin internet 
sürətinə potensial təsirini vizual olaraq göstərir və növbəti bölmədə aparılacaq 
səbəbiyyət təhlili üçün zəmin yaradır.

### Nəticə

Sabit internet sürətinə dair aparılan təsviri və inferensial statistika təhlili bir neçə mühüm nəticəni ortaya qoyur. Birincisi, 2019–2025-ci illər dövründə Azərbaycanın sabit internet şəbəkəsində kəskin və davamlı inkişaf müşahidə olunmuşdur. Median endirmə sürəti `r round(fixed_end$DownloadSpeed / fixed_start$DownloadSpeed, 1)` dəfə artaraq `r round(fixed_start$DownloadSpeed, 1)` Mbps-dən `r round(fixed_end$DownloadSpeed, 1)` Mbps-ə yüksəlmişdir. İkincisi, bu artımın statistik əhəmiyyətliliyi həm parametrik, həm də qeyri-parametrik metodlarla təsdiqlənir. Xətti reqressiya modeli ayda orta hesabla `r round(fixed_dl_reg$Slope, 2)` Mbps artım tempini qiymətləndirir (R² = `r round(fixed_dl_reg$R_Squared, 2)`), Mann-Kendall testi isə paylanma fərziyyələrindən asılı olmadan bu güclü monoton artan trendi təsdiq edir (τ = `r round(fixed_dl_mk$Tau, 2)`).

Bununla yanaşı, model diaqnostikası, zaman sıraları üçün səciyyəvi olan müsbət avtokorrelyasiyanın mövcudluğunu aşkar etmişdir. Bu problemin statistik nəticələrə təsirini minimuma endirmək üçün Newey-West standart xətaları tətbiq edilmiş və trendin statistik əhəmiyyətliliyinin qorunduğu müəyyən edilmişdir. Nəhayət, illik artım templərinin təhlili göstərir ki, ümumi artım xətti olsa da, bu artım heterogen xarakter daşıyır və 2022 və 2024-cü illərdə müşahidə olunan sıçrayışlar, siyasət müdaxilələri və infrastruktur layihələri kimi struktur dəyişikliklərinin potensial təsirinə işarə edir. Bu amillərin səbəbiyyət təhlili sonrakı bölmələrdə aparılacaqdır.